(this["webpackJsonprest-area-info"]=this["webpackJsonprest-area-info"]||[]).push([[0],{38:function(e,t,n){e.exports=n(69)},48:function(e,t,n){},49:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),o=n(16),s=n.n(o),u=n(6),i=n(10),l=(n(48),n(49),n(23)),f=n(5),p=n(9),O=n.n(p),b=n(72),d=n(71),m=n(4),E=n(15),j=n.n(E),v=encodeURI("5334093111","UTF-8");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S,w=Object(b.a)("loading/START_LOADING"),R=Object(b.a)("loading/FINISH_LOADING"),C=Object(d.a)((r={},Object(f.a)(r,"loading/START_LOADING",(function(e,t){return y({},e,Object(f.a)({},t.payload,!0))})),Object(f.a)(r,"loading/FINISH_LOADING",(function(e,t){return y({},e,Object(f.a)({},t.payload,!1))})),r),{}),h=n(22);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){var n="".concat(e,"_SUCCESS"),r="".concat(e,"_FAILURE");return"rests/GET_EXPRESSWAY_CODE"===e?O.a.mark((function a(c){var o;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(m.c)(w(e));case 2:return a.prev=2,a.next=5,Object(m.b)(t,c.payload);case 5:return o=a.sent,a.next=8,Object(m.c)({type:n,payload:o.data});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(m.c)({type:r,payload:a.t0,error:!0});case 14:return a.next=16,Object(m.c)(R(e));case 16:case"end":return a.stop()}}),a,null,[[2,10]])})):"rests/GET_RESTS_SERVICE"===e?O.a.mark((function a(c){var o,s,u;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(m.c)(w(e));case 2:return a.prev=2,a.next=5,Object(m.b)(t,c.payload);case 5:o=a.sent,(s={count:0,list:[],pageNo:0,numOfRows:0,pageSize:0,message:"",code:""}).list=s.list.concat(o.data.list);case 8:if(!(o.data.pageSize>o.data.pageNo)){a.next=16;break}return u=o.data.pageNo+1,a.next=12,Object(m.b)(t,_({},c.payload,{pageNo:u}));case 12:o=a.sent,s.list=s.list.concat(o.data.list),a.next=8;break;case 16:return a.next=18,Object(m.c)({type:n,payload:Object(h.a)(o,(function(e){e.data.list=s.list}))});case 18:a.next=24;break;case 20:return a.prev=20,a.t0=a.catch(2),a.next=24,Object(m.c)({type:r,payload:a.t0,error:!0});case 24:return a.next=26,Object(m.c)(R(e));case 26:case"end":return a.stop()}}),a,null,[[2,20]])})):O.a.mark((function a(c){var o,s,u;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e),a.next=3,Object(m.c)(w(e));case 3:return a.prev=3,a.next=6,Object(m.b)(t,c.payload);case 6:o=a.sent,(s={count:0,list:[],pageNo:0,numOfRows:0,pageSize:0,message:"",code:""}).list=s.list.concat(o.data.list);case 9:if(!(o.data.pageSize>o.data.pageNo)){a.next=17;break}return u=o.data.pageNo+1,a.next=13,Object(m.b)(t,_({},c.payload,{pageNo:u}));case 13:o=a.sent,s.list=s.list.concat(o.data.list),a.next=9;break;case 17:return a.next=19,Object(m.c)({type:n,payload:Object(h.a)(o,(function(e){e.data.list=s.list}))});case 19:a.next=25;break;case 21:return a.prev=21,a.t0=a.catch(3),a.next=25,Object(m.c)({type:r,payload:a.t0,error:!0});case 25:return a.next=27,Object(m.c)(R(e));case 27:case"end":return a.stop()}}),a,null,[[3,21]])}))}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=O.a.mark(V),x="rests/GET_EXPRESSWAY_CODE",I="rests/GET_RESTS_SERVICE",A="rests/GET_RESTS_THEME",L=Object(b.a)(x),M=Object(b.a)(I),G=Object(b.a)(A),F=Object(b.a)("rests/GET_RESTS_SERVICE_ROUTE"),U=T(x,(function(){return j.a.get("/data/expresswayCode.json")})),W=T(I,(function(e){return j.a.get("/openapi/restinfo/restConvList?key=".concat(v,"&type=json&routeNo=").concat(e.routeNo,"&numOfRows=").concat(e.numOfRows,"&pageNo=").concat(e.pageNo))})),H=T(A,(function(e){return j.a.get("/openapi/restinfo/restThemeList?key=".concat(v,"&type=json&pageNo=").concat(e.pageNo,"&numOfRows=").concat(e.numOfRows))})),K=T("rests/GET_RESTS_SERVICE_ROUTE",(function(e){return j.a.get("/openapi/business/serviceAreaRoute?key=".concat(v,"&type=json&numOfRows=").concat(e.numOfRows,"&pageNo=").concat(e.pageNo))}));function V(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(x,U);case 2:return e.next=4,Object(m.d)(I,W);case 4:return e.next=6,Object(m.d)(A,H);case 6:return e.next=8,Object(m.d)(A,K);case 8:case"end":return e.stop()}}),P)}var X,Y=Object(d.a)((S={},Object(f.a)(S,"rests/GET_EXPRESSWAY_CODE_SUCCESS",(function(e,t){return D({},e,{expresswayCode:t.payload})})),Object(f.a)(S,"rests/GET_RESTS_SERVICE_SUCCESS",(function(e,t){return D({},e,{restsService:t.payload.data.list})})),Object(f.a)(S,"rests/GET_RESTS_THEME_SUCCESS",(function(e,t){return D({},e,{restsTheme:t.payload.data.list})})),Object(f.a)(S,"rests/GET_RESTS_SERVICE_ROUTE_SUCCESS",(function(e,t){return D({},e,{serviceRoute:t.payload.data.list})})),S),{restsService:null,expresswayCode:null,restsTheme:null,serviceRoute:null});function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J,$=Object(b.a)("rests/CHANGE_EXPRESSWAY",(function(e){return e})),q=Object(b.a)("rests/CLICK_REST",(function(e){return e})),Q=Object(b.a)("rests/CLOSE_INFO"),Z=Object(b.a)("rests/SET_REST_INFO_DATA"),ee=Object(d.a)((X={},Object(f.a)(X,"rests/SET_REST_INFO_DATA",(function(e,t){return B({},e,{restsInfo:t.payload})})),Object(f.a)(X,"rests/CHANGE_EXPRESSWAY",(function(e,t){return B({},e,{selectedRouteNo:t.payload.target.value})})),Object(f.a)(X,"rests/CLICK_REST",(function(e,t){return B({},e,{selectedRest:t.payload,showInfo:!0})})),Object(f.a)(X,"rests/CLOSE_INFO",(function(e,t){return B({},e,{showInfo:!1})})),X),{restsInfo:[],selectedRouteNo:"",selectedRest:"",showInfo:!1});n(67);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=Object(b.a)("kakaoMap/SET_MAP_ID"),ae=Object(b.a)("kakaoMap/SET_MARKERS"),ce=Object(d.a)((J={},Object(f.a)(J,"kakaoMap/SET_MAP_ID",(function(e,t){return ne({},e,{is:t.payload})})),Object(f.a)(J,"kakaoMap/SET_MARKERS",(function(e,t){return ne({},e,{markers:t.payload})})),J),{is:null,markers:[]}),oe=function(e){var t=e.restsInfoData,n=e.isExpressCodeLoading,r=e.isRestsServiceLoading,o=e.isRestsThemeLoading,s=e.isServiceRouteLoading,i=e.onClickMarker,l=e.setKakaoMap,f=Object(a.useRef)(null),p=window.kakao,O=!1,b=!1,d=Object(u.c)((function(e){return e.kakaoMap.markers})),m=Object(u.b)(),E=Object(a.useCallback)((function(e){return m(ae(e))}),[m]),j=function(e){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){e.panTo(new p.maps.LatLng(t.coords.latitude,t.coords.longitude))}),(function(e){alert("Error: "+e.message)}))};function v(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,n)}var g,y=function(){O=!0},S=function(){O&&(b=!0)},w=function(e,t,n,r){var a=document.createElement("div");a.className="label",a.innerHTML=n;var c=new p.maps.Marker({position:t}),o=new p.maps.CustomOverlay({map:e,position:t,content:a,yAnchor:3});d.push({marker:c,overlay:o}),c.setMap(e),p.maps.event.addListener(c,"click",(function(){b||i(r)})),v(a,"mousedown",y),v(a,"mousemove",S),v(a,"mouseup",(function(){O=!1,b||i(r),b=!1}))};return Object(a.useEffect)((function(){var e=f.current;if(null!==e&&!1===n&&!1===r&&(g=new p.maps.Map(e,{center:new p.maps.LatLng(37.592128,126.97942),level:12}),l(g),j(g)),console.log(t),t){var a=new p.maps.services.Geocoder;d=[];for(var c=function(e){a.addressSearch(t[e].restAddr,(function(n,r){if(r===p.maps.services.Status.OK){var a=new p.maps.LatLng(n[0].y,n[0].x);w(g,a,t[e].restName,t[e].restCode)}}))},o=0;o<t.length;o++)c(o)}}),[t,p.maps.LatLng,p.maps.Map,w,j,n,r,p.maps.services.Geocoder,p.maps.services.Status.OK]),E(d),Object(a.useEffect)((function(){return function(){for(var e=0;e<d.length;e++)d[e].marker.setMap(null),d[e].overlay.setMap(null)}})),c.a.createElement(a.Fragment,null,c.a.createElement("div",{ref:f,className:"map"}),(n||r)&&c.a.createElement("div",{className:"loading_overlay"},n&&c.a.createElement(a.Fragment,null,"\uace0\uc18d\ub3c4\ub85c \ucf54\ub4dc \ub370\uc774\ud130",c.a.createElement("br",null)),r&&c.a.createElement(a.Fragment,null,"\ud734\uac8c\uc18c \ud3b8\uc758 \uc2dc\uc124 \ub370\uc774\ud130",c.a.createElement("br",null)),o&&c.a.createElement(a.Fragment,null,"\ud734\uac8c\uc18c \ud14c\ub9c8 \ub370\uc774\ud130",c.a.createElement("br",null)),s&&c.a.createElement(a.Fragment,null,"\ub3c4\ub85c\ubcc4 \ud734\uac8c\uc2dc\uc124 \ub370\uc774\ud130",c.a.createElement("br",null))," ","\ub85c\ub529\uc911..."))},se=(n(68),n(36)),ue=function(e){var t=e.restInfo,n=e.onCloseInfo;return console.log(t),t?c.a.createElement("div",{className:"restInfo"},c.a.createElement("div",null,c.a.createElement(se.a,{onClick:n})),c.a.createElement("div",null,t.restName),c.a.createElement("div",null,t.restAddr),c.a.createElement("div",null,t.theme.name),c.a.createElement("div",null,t.theme.detail),t.services.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("div",null,e.convName),c.a.createElement("div",null,e.convDesc),c.a.createElement("div",null,e.convStartTime),c.a.createElement("div",null,e.convEndTime))}))):null},ie=c.a.memo((function(){var e=Object(u.c)((function(e){return e.getData.restsTheme})),t=Object(u.c)((function(e){return e.getData.restsService})),n=Object(u.c)((function(e){return e.getData.expresswayCode})),r=Object(u.c)((function(e){return e.getData.serviceRoute})),o=Object(u.c)((function(e){return e.restsData.selectedRouteNo})),s=Object(u.c)((function(e){return e.restsData.selectedRest})),i=Object(u.c)((function(e){return e.restsData.restsInfo})),f=Object(u.c)((function(e){return e.loading["rests/GET_RESTS_THEME"]})),p=Object(u.c)((function(e){return e.loading["rests/GET_EXPRESSWAY_CODE"]})),O=Object(u.c)((function(e){return e.loading["rests/GET_RESTS_SERVICE"]})),b=Object(u.c)((function(e){return e.loading["rests/GET_RESTS_SERVICE_ROUTE"]})),d=Object(u.c)((function(e){return e.restsData.showInfo})),m=Object(u.b)(),E=Object(a.useCallback)((function(e){return m($(e))}),[m]),j=Object(a.useCallback)((function(e){return m(q(e))}),[m]),v=Object(a.useCallback)((function(){return m(L())}),[m]),g=Object(a.useCallback)((function(e){return m(M(e))}),[m]),y=Object(a.useCallback)((function(e){return m(G(e))}),[m]),S=Object(a.useCallback)((function(e){return m(F(e))}),[m]),w=Object(a.useCallback)((function(e){return m(re(e))}),[m]),R=Object(a.useCallback)((function(){return m(Q())}),[m]),C=Object(a.useCallback)((function(e){return m(Z(e))}),[m]);Object(a.useRef)(null);Object(a.useEffect)((function(){try{v()}catch(e){console.log(e)}}),[v]),Object(a.useEffect)((function(){try{g({routeNo:"",numOfRows:"300",pageNo:""})}catch(e){console.log(e)}}),[g]),Object(a.useEffect)((function(){try{S({routeNo:"",numOfRows:"300",pageNo:""})}catch(e){console.log(e)}}),[S]),Object(a.useEffect)((function(){try{y({numOfRows:"300",pageNo:""})}catch(e){console.log(e)}}),[y]);var h,k=""===(h=o)?i:(console.log(i),i.filter((function(e){return e.routeCode===h})));return Object(a.useEffect)((function(){})),!1===p&&!1===O&&!1===f&&!1===b&&i.length<1&&function(){var n=[];console.log(t);for(var a=t.reduce((function(e,t){return n=t,e.some((function(e){return e.stdRestCd===n.stdRestCd&&e.psCode===n.psCode}))?e:[].concat(Object(l.a)(e),[t]);var n}),[]),c=e.reduce((function(e,t){return n=t,e.some((function(e){return e.stdRestCd===n.stdRestCd}))?e:[].concat(Object(l.a)(e),[t]);var n}),[]),o=0;o<c.length;o++)n.push({routeCode:"",restCode:c[o].stdRestCd,restName:c[o].stdRestNm,restAddr:c[o].svarAddr,services:[],theme:{name:c[o].itemNm,detail:c[o].detail}});for(var s=function(e){var t=n.find((function(t){return t.restCode===a[e].stdRestCd&&null!==a[e].stdRestNm}));t&&t.services.push({convName:a[e].psName,convDesc:a[e].psDesc,convStartTime:a[e].stime,convEndTime:a[e].etime})},u=0;u<a.length;u++)s(u);for(var i=function(e){var t=r.find((function(t){return null!==t.serviceAreaCode&&t.serviceAreaCode.replace("A","0")===n[e].restCode}));t&&(n[e].routeCode=t.routeCode)},f=0;f<n.length;f++)i(f);console.log(n),C(n)}(),console.log(k),c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"expressway_select_wrapper"},c.a.createElement("select",{className:"expressway_select",onChange:function(e){E(e)}},c.a.createElement("option",{value:""},"\uc804\uccb4"),n&&n.map((function(e){return c.a.createElement("option",{key:e.code,value:e.code},e.name)})))),c.a.createElement("div",{className:"kakaoMap"},c.a.createElement(oe,{restsInfoData:k,expresswayCodeData:n,isExpressCodeLoading:p,isRestsServiceLoading:O,isRestsThemeLoading:f,isServiceRouteLoading:b,onClickMarker:j,setKakaoMap:w})),i&&d&&c.a.createElement(ue,{restInfo:k.find((function(e){return e.restCode===s})),onCloseInfo:R}))}));var le=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(ie,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fe=O.a.mark(pe);function pe(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)([V()]);case 2:case"end":return e.stop()}}),fe)}var Oe=Object(i.combineReducers)({loading:C,getData:Y,restsData:ee,kakaoMap:ce}),be=n(37),de=n(35),me=Object(be.a)(),Ee=Object(i.createStore)(Oe,Object(de.composeWithDevTools)(Object(i.applyMiddleware)(me)));me.run(pe),s.a.render(c.a.createElement(u.a,{store:Ee},c.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.763df44d.chunk.js.map